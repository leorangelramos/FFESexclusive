<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Exercício: Verbos Modais (Can, Could, May, Might) | FFES</title>
    <meta name="description" content="Pratique os verbos modais Can, Could, May e Might com exercícios interativos.">
    <link rel="icon" type="image/png" href="logofavicion.png">
    
    <link rel="stylesheet" href="universal.css">
</head>
<body>

<div class="cabecalho-container">
    <header class="bloco-identidade">
        <div class="logo-and-title">
            <a href="index.html">
                <img src="logo novo grande.png" alt="Logo FFES" class="logo-img">
            </a>
            <a href="https://www.youtube.com/@teacherleoramos/videos" target="_blank" style="text-decoration: none; color: inherit;">
                <h1>Leo Ramos | Professor de Inglês</h1>
            </a>
        </div>
    </header>
     <div class="bloco-navegacao"> 
        <nav class="nav-primary">
            <ul>
                <li><a href="index.html">Home</a></li>
            </ul>
        </nav>
    </div>
</div>

<main>

    <div id="placar-geral-container">
        <p>Acertos: <strong id="acertos-geral">0</strong></p>
        <a href="#contato" class="nav-arrow" title="Ir para o final da página">&#11015;</a>
        <p>Erros: <strong id="erros-geral">0</strong></p>
    </div>
    <button id="reset-btn" class="cta-button">Zerar Pontuação</button>

    <div class="exercise-page-container">
        
<div class="theory-box">
    <h2>Teoria: Verbos Modais (Can, Could, May, Might)</h2>
    <p>Estes modais são usados principalmente para expressar habilidade, permissão e possibilidade.</p>
    <hr>
    
    <h4>1. CAN</h4>
    <p>Usado para <strong>habilidade no presente</strong> ou <strong>permissão informal</strong>.</p>
    <ul>
        <li><em><strong>Habilidade:</strong> I <strong>can</strong> speak English.</em></li>
        <li><em><strong>Permissão informal:</strong> <strong>Can</strong> I use your phone?</em></li>
    </ul>

    <h4>2. COULD</h4>
    <p>Usado para <strong>habilidade no passado</strong>, <strong>pedidos educados</strong> ou <strong>possibilidade</strong>.</p>
    <ul>
        <li><em><strong>Habilidade no passado:</strong> When I was young, I <strong>could</strong> run very fast.</em></li>
        <li><em><strong>Pedido educado:</strong> <strong>Could</strong> you pass the salt, please?</em></li>
        <li><em><strong>Possibilidade:</strong> It <strong>could</strong> rain later.</em></li>
    </ul>
    
    <h4>3. MAY</h4>
    <p>Usado para <strong>permissão formal</strong> ou <strong>possibilidade</strong> (similar a 'could').</p>
    <ul>
        <li><em><strong>Permissão formal:</strong> <strong>May</strong> I come in?</em></li>
        <li><em><strong>Possibilidade:</strong> She <strong>may</strong> be late.</em></li>
    </ul>

    <h4>4. MIGHT</h4>
    <p>Usado para expressar uma <strong>possibilidade mais fraca ou remota</strong>.</p>
    <ul>
        <li><em><strong>Possibilidade remota:</strong> It s cloudy, so it <strong>might</strong> rain. (Mas não tenho certeza)</em></li>
        <li><em><strong>Incerteza:</strong> I <strong>might</strong> go to the party, but I haven't decided yet.</em></li>
    </ul>
</div>

        <div class="exercise-container">
            <div class="mode-selector">
                <button id="mc-btn" class="mode-btn active">Múltipla Escolha</button>
                <button id="write-btn" class="mode-btn">Escrever</button>
                <button id="fill-btn" class="mode-btn">Preencher Lacunas</button>
                <button id="scramble-btn" class="mode-btn">Ordenar Frases</button>
            </div>

            <div id="mc-exercises" class="exercise-mode" style="display:block;">
                <div class="exercise-card"><p class="exercise-prompt"><strong>1.</strong> Habilidade no presente: "She ____ play the piano beautifully."</p><div class="mc-options"><div class="mc-option" data-correct="true">a) can</div><div class="mc-option">b) could</div><div class="mc-option">c) may</div></div><div class="feedback"></div></div>
                <div class="exercise-card"><p class="exercise-prompt"><strong>2.</strong> Pedido educado: "____ I have a glass of water, please?"</p><div class="mc-options"><div class="mc-option">a) Can</div><div class="mc-option" data-correct="true">b) Could</div><div class="mc-option">c) Might</div></div><div class="feedback"></div></div>
                <div class="exercise-card"><p class="exercise-prompt"><strong>3.</strong> Possibilidade remota: "I'm not sure, but he ____ be at home."</p><div class="mc-options"><div class="mc-option">a) can</div><div class="mc-option">b) may</div><div class="mc-option" data-correct="true">c) might</div></div><div class="feedback"></div></div>
                <div class="exercise-card"><p class="exercise-prompt"><strong>4.</strong> Permissão formal: "Professor, ____ I ask a question?"</p><div class="mc-options"><div class="mc-option">a) can</div><div class="mc-option" data-correct="true">b) may</div><div class="mc-option">c) might</div></div><div class="feedback"></div></div>
                <div class="exercise-card"><p class="exercise-prompt"><strong>5.</strong> Habilidade no passado: "Last year, I ____ not speak French."</p><div class="mc-options"><div class="mc-option">a) can't</div><div class="mc-option" data-correct="true">b) couldn't</div><div class="mc-option">c) may not</div></div><div class="feedback"></div></div>
            </div>

            <div id="write-exercises" class="exercise-mode" style="display:none;">
                <div class="exercise-card"><p class="exercise-prompt"><strong>1.</strong> Traduza a habilidade: "Eu sei nadar."</p><div class="write-group"><input type="text" class="write-input" data-answer="i can swim"><button class="check-btn">Verificar</button><div class="feedback"></div></div></div>
                <div class="exercise-card"><p class="exercise-prompt"><strong>2.</strong> Traduza a possibilidade: "Pode chover mais tarde."</p><div class="write-group"><input type="text" class="write-input" data-answer="it may rain later"><button class="check-btn">Verificar</button><div class="feedback"></div></div></div>
                <div class="exercise-card"><p class="exercise-prompt"><strong>3.</strong> Traduza o pedido educado: "Você poderia me ajudar?"</p><div class="write-group"><input type="text" class="write-input" data-answer="could you help me?"><button class="check-btn">Verificar</button><div class="feedback"></div></div></div>
            </div>

            <div id="fill-exercises" class="exercise-mode" style="display:none;">
                <div class="exercise-card"><p class="exercise-prompt"><strong>1.</strong> He is very strong. He ____ lift 100 kilos.</p><div class="fill-group"><input type="text" class="write-input" data-answer="can"><button class="check-btn">Verificar</button><div class="feedback"></div></div></div>
                <div class="exercise-card"><p class="exercise-prompt"><strong>2.</strong> "____ I sit here?" (formal)</p><div class="fill-group"><input type="text" class="write-input" data-answer="may"><button class="check-btn">Verificar</button><div class="feedback"></div></div></div>
                <div class="exercise-card"><p class="exercise-prompt"><strong>3.</strong> Take an umbrella. It ____ rain.</p><div class="fill-group"><input type="text" class="write-input" data-answer="might"><button class="check-btn">Verificar</button><div class="feedback"></div></div></div>
                <div class="exercise-card"><p class="exercise-prompt"><strong>4.</strong> I ____ hear the music from my house last night.</p><div class="fill-group"><input type="text" class="write-input" data-answer="could"><button class="check-btn">Verificar</button><div class="feedback"></div></div></div>
            </div>
            <div id="scramble-exercises" class="exercise-mode" style="display:none;">
                <div class="exercise-card"><p class="exercise-prompt"><strong>1.</strong> Ordene a habilidade:</p><p class="scrambled-words-text">languages / speak / can / two / He</p><div class="scramble-group"><input type="text" class="write-input" data-answer="he can speak two languages"><button class="check-btn">Verificar</button><div class="feedback"></div></div></div>
                <div class="exercise-card"><p class="exercise-prompt"><strong>2.</strong> Ordene a possibilidade:</p><p class="scrambled-words-text">be / She / right / might</p><div class="scramble-group"><input type="text" class="write-input" data-answer="she might be right"><button class="check-btn">Verificar</button><div class="feedback"></div></div></div>
                <div class="exercise-card"><p class="exercise-prompt"><strong>3.</strong> Ordene o pedido:</p><p class="scrambled-words-text">me / you / Could / favor / do / a / ?</p><div class="scramble-group"><input type="text" class="write-input" data-answer="could you do me a favor"><button class="check-btn">Verificar</button><div class="feedback"></div></div></div>
            </div>
        </div>
    </div>
</main>

<footer id="contato" class="site-footer">
    </footer>
<script>
document.addEventListener('DOMContentLoaded', () => {

    // --- VARIÁVEIS DO PLACAR ---
    let acertos = 0;
    let erros = 0;
    const placarAcertosEl = document.getElementById('acertos-geral');
    const placarErrosEl = document.getElementById('erros-geral');
    const resetBtn = document.getElementById('reset-btn');

    // Função para atualizar o placar
    function atualizarPlacar() {
        placarAcertosEl.textContent = acertos;
        placarErrosEl.textContent = erros;
    }

    // Lógica do botão Zerar
    resetBtn.addEventListener('click', () => {
        window.location.reload();
    });
    // --- FIM DAS ADIÇÕES DO PLACAR ---

    const modeBtns = document.querySelectorAll('.mode-btn');
    const exerciseModes = document.querySelectorAll('.exercise-mode');

    modeBtns.forEach(btn => {
        btn.addEventListener('click', () => {
            modeBtns.forEach(b => b.classList.remove('active'));
            exerciseModes.forEach(m => m.style.display = 'none');
            
            btn.classList.add('active');
            
            let targetModeId;
            if (btn.id === 'mc-btn') targetModeId = 'mc-exercises';
            if (btn.id === 'write-btn') targetModeId = 'write-exercises';
            if (btn.id === 'fill-btn') targetModeId = 'fill-exercises';
            if (btn.id === 'scramble-btn') targetModeId = 'scramble-exercises';
            
            if (targetModeId) {
                document.getElementById(targetModeId).style.display = 'block';
            }
        });
    });

    const mcOptionGroups = document.querySelectorAll('.mc-options');
    mcOptionGroups.forEach(group => {
        const options = group.querySelectorAll('.mc-option');
        const feedbackEl = group.nextElementSibling;
        options.forEach(option => {
            option.addEventListener('click', () => {
                if (group.querySelector('.correct-answer') || group.querySelector('.incorrect-answer')) return;
                
                const isCorrect = option.getAttribute('data-correct') === 'true';
                if (isCorrect) {
                    option.classList.add('correct-answer');
                    feedbackEl.textContent = 'Correto!';
                    feedbackEl.className = 'feedback correct';
                    acertos++; 
                } else {
                    option.classList.add('incorrect-answer');
                    feedbackEl.textContent = 'Incorreto. A resposta certa está destacada em verde.';
                    feedbackEl.className = 'feedback incorrect';
                    group.querySelector('[data-correct="true"]').classList.add('correct-answer');
                    erros++; 
                }
                atualizarPlacar(); 
            });
        });
    });

    // ########## INÍCIO DA CORREÇÃO ##########
    // Corrigido para remover pontuação da resposta correta (data-answer) também.
    const checkWriteBtns = document.querySelectorAll('.write-group .check-btn');
    checkWriteBtns.forEach(btn => {
        btn.addEventListener('click', () => {
            const group = btn.parentElement;
            const feedbackEl = group.querySelector('.feedback');
            
            if (feedbackEl.textContent !== "") return; 

            const inputs = group.querySelectorAll('.write-input');
            let allCorrect = true;
            inputs.forEach(input => {
                const userAnswer = input.value.trim().toLowerCase().replace(/[.?]/g, '');
                // CORREÇÃO: Aplicado o .replace(/[.?]/g, '') na correctAnswer
                const correctAnswer = input.getAttribute('data-answer').trim().toLowerCase().replace(/[.?]/g, ''); 
                
                if (userAnswer === correctAnswer) {
                    input.style.borderColor = '#27ae60';
                    input.style.backgroundColor = '#eafaf1';
                } else {
                    input.style.borderColor = '#c0392b';
                    input.style.backgroundColor = '#fbeae8';
                    allCorrect = false;
                }
            });
            if (allCorrect) {
                feedbackEl.textContent = 'Excelente, todas as respostas estão corretas!';
                feedbackEl.className = 'feedback correct';
                acertos++; 
            } else {
                feedbackEl.textContent = 'Algumas respostas estão incorretas. Verifique os campos em vermelho.';
                feedbackEl.className = 'feedback incorrect';
                erros++; 
            }
            atualizarPlacar(); 
        });
    });

    // ########## INÍCIO DA CORREÇÃO ##########
    // Corrigido para remover pontuação da resposta correta (data-answer) também.
    const checkSingleInputBtns = document.querySelectorAll('.fill-group .check-btn, .scramble-group .check-btn');
    checkSingleInputBtns.forEach(btn => {
        btn.addEventListener('click', () => {
            const group = btn.parentElement;
            const input = group.querySelector('.write-input');
            const feedbackEl = group.querySelector('.feedback');
            
            if (feedbackEl.textContent !== "") return;

            const userAnswer = input.value.trim().toLowerCase().replace(/[.?]/g, '');
            // CORREÇÃO: Aplicado o .replace(/[.?]/g, '') na correctAnswer
            const correctAnswer = input.getAttribute('data-answer').trim().toLowerCase().replace(/[.?]/g, '');

            if (userAnswer === correctAnswer) {
                input.style.borderColor = '#27ae60';
                input.style.backgroundColor = '#eafaf1';
                feedbackEl.textContent = 'Correto!';
                feedbackEl.className = 'feedback correct';
                acertos++; 
            } else {
                input.style.borderColor = '#c0392b';
                input.style.backgroundColor = '#fbeae8';
                // CORREÇÃO: Mostra a resposta correta original (com pontuação) para o aluno.
                const originalCorrectAnswer = input.getAttribute('data-answer').trim();
                feedbackEl.textContent = 'Incorreto. A resposta correta é: "' + originalCorrectAnswer + '"';
                feedbackEl.className = 'feedback incorrect';
                erros++; 
            }
            atualizarPlacar(); 
        });
    });
    // ########## FIM DAS CORREÇÕES ##########
});
</script>
</body>
</html>
